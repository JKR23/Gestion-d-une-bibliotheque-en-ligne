"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[485],{697:(e,t,r)=>{r.d(t,{default:()=>d});var s=r(5155),l=r(2115);function a(e){let{bookId:t,date:r}=e,[a,n]=(0,l.useState)(!1),[o,i]=(0,l.useState)(!1),c=localStorage.getItem("userId"),d=async()=>{if(!r||!c)return;let e=parseInt(c,10);if(!isNaN(e)){n(!0);try{(await fetch("http://localhost:5000/api/reservations",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({userId:e,bookId:t,reservedUntil:r})})).ok?(i(!0),alert("R\xe9servation r\xe9ussie.")):alert("La r\xe9servation a \xe9chou\xe9.")}catch(e){alert("Erreur de connexion, veuillez r\xe9essayer.")}finally{n(!1)}}};return(0,s.jsx)("button",{onClick:d,disabled:a||o,className:"w-full sm:w-1/2 mt-2 py-2 px-4 rounded text-white ".concat(a?"bg-gray-500":"bg-reservationButtonBg"," hover:scale-105 hover:bg-survolButtonBg transition"),children:a?"Chargement...":o?"R\xe9serv\xe9":"Confirmer"})}function n(e){let{bookId:t,userId:r,onCancel:n}=e,[o,i]=(0,l.useState)("");return(0,s.jsxs)("div",{className:"bg-white p-6 rounded shadow-lg w-full max-w-sm",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-4",children:"Date retour"}),(0,s.jsx)("input",{type:"date",value:o,onChange:e=>i(e.target.value),className:"mb-4 p-2 border border-gray-300 rounded w-full"}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row justify-end gap-2",children:[(0,s.jsx)("button",{onClick:()=>{i(""),null==n||n()},className:"bg-red-500 text-white py-2 px-4 rounded hover:scale-105 hover:bg-orange-600 w-full sm:w-1/2 transition",children:"Annuler"}),o&&(0,s.jsx)(a,{bookId:t,userId:r,date:o})]})]})}function o(e){let{bookId:t,userId:r}=e,[a,o]=(0,l.useState)(!1);return(0,s.jsxs)("div",{children:[(0,s.jsx)("button",{onClick:()=>o(!0),className:"bg-reservationButtonBg text-white py-2 px-4 rounded transition hover:scale-105 hover:bg-survolButtonBg w-full sm:w-auto",children:"R\xe9server"}),a&&(0,s.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 px-4",children:(0,s.jsx)(n,{bookId:t,userId:r,onCancel:()=>o(!1)})})]})}function i(e){let{books:t}=e;return t&&0!==t.length?(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,s.jsxs)("div",{className:"border p-4 rounded shadow-md bg-white",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:e.title}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Auteur:"})," ",e.author]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Description:"})," ",e.description||"Pas de description disponible"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Genre:"})," ",e.genre||"Genre non sp\xe9cifi\xe9"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Disponible:"})," ",e.isAvailable?"Oui":"Non"]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(o,{bookId:e.id,userId:1})})]},e.id))}):(0,s.jsx)("p",{children:"Aucun livre disponible."})}var c=r(6454);function d(){let[e,t]=(0,l.useState)([]),[r,a]=(0,l.useState)([]),n=async()=>{try{let e=await fetch("http://localhost:5000/api/books"),r=await e.json();t(r),a(r)}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des livres:",e)}};return(0,l.useEffect)(()=>{n()},[]),(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"Catalogue"}),(0,s.jsx)(c.A,{onSearch:(t,r)=>{a(e.filter(e=>e[r].toLowerCase().includes(t.toLowerCase())))}})]}),(0,s.jsx)(i,{books:r})]})}},1469:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),!function(e,t){for(var r in t)Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}(t,{default:function(){return i},getImageProps:function(){return o}});let s=r(8229),l=r(8883),a=r(3063),n=s._(r(1193));function o(e){let{props:t}=(0,l.getImgProps)(e,{defaultLoader:n.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(t))void 0===r&&delete t[e];return{props:t}}let i=a.Image},4379:(e,t,r)=>{r.d(t,{default:()=>d});var s=r(5155),l=r(2115),a=r(3464);let n=e=>{let{onBack:t,onRefresh:r}=e,[n,o]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[d,u]=(0,l.useState)(""),m=async e=>{e.preventDefault();try{await a.A.post("".concat("http://localhost:5000","/books"),{title:n,author:i,quantity:d}),r(),t()}catch(e){console.error("Erreur lors de l’ajout du livre:",e)}};return(0,s.jsxs)("div",{className:"p-4 w-full max-w-xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Ajouter un Livre"}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Titre du livre",value:n,onChange:e=>o(e.target.value),className:"w-full p-2 border rounded"}),(0,s.jsx)("input",{type:"text",placeholder:"Auteur",value:i,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded"}),(0,s.jsx)("input",{type:"number",placeholder:"Quantit\xe9",value:d,onChange:e=>u(e.target.value),className:"w-full p-2 border rounded"}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Ajouter"}),(0,s.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:t,children:"Retour"})]})]})]})},o=e=>{let{onBack:t,onRefresh:r}=e,[n,o]=(0,l.useState)(""),[i,c]=(0,l.useState)(""),[d,u]=(0,l.useState)("etudiant"),m=async e=>{e.preventDefault();try{await a.A.post("".concat("http://localhost:5000","/users"),{name:n,email:i,role:d}),r(),t()}catch(e){console.error("Erreur lors de l’ajout de l’utilisateur:",e)}};return(0,s.jsxs)("div",{className:"p-4 w-full max-w-xl mx-auto",children:[(0,s.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Ajouter un Utilisateur"}),(0,s.jsxs)("form",{onSubmit:m,className:"space-y-4",children:[(0,s.jsx)("input",{type:"text",placeholder:"Nom",value:n,onChange:e=>o(e.target.value),className:"w-full p-2 border rounded"}),(0,s.jsx)("input",{type:"email",placeholder:"Email",value:i,onChange:e=>c(e.target.value),className:"w-full p-2 border rounded"}),(0,s.jsxs)("select",{value:d,onChange:e=>u(e.target.value),className:"w-full p-2 border rounded",children:[(0,s.jsx)("option",{value:"etudiant",children:"\xc9tudiant"}),(0,s.jsx)("option",{value:"admin",children:"Administrateur"})]}),(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Ajouter"}),(0,s.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:t,children:"Retour"})]})]})]})},i="http://localhost:5000",c=e=>{let{title:t,onClick:r}=e;return(0,s.jsxs)("div",{onClick:r,className:"cursor-pointer bg-white border rounded-2xl p-6 hover:shadow-xl transition-shadow duration-300",children:[(0,s.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:t}),(0,s.jsx)("p",{className:"text-sm sm:text-base",children:"Cliquer ici pour acc\xe9der."})]})},d=()=>{let[e,t]=(0,l.useState)(null),[r,d]=(0,l.useState)([]),[u,m]=(0,l.useState)([]),h=async()=>{try{let e=await a.A.get("".concat(i,"/books"));d(e.data)}catch(e){console.error("Erreur de chargement des livres:",e)}},x=async()=>{try{let e=await a.A.get("".concat(i,"/users"));m(e.data)}catch(e){console.error("Erreur de chargement des utilisateurs:",e)}},b=async e=>{try{await a.A.delete("".concat(i,"/books/").concat(e)),h()}catch(e){console.error("Erreur lors de la suppression du livre:",e)}},p=async e=>{try{await a.A.delete("".concat(i,"/users/").concat(e)),x()}catch(e){console.error("Erreur lors de la suppression de l’utilisateur:",e)}};(0,l.useEffect)(()=>{h(),x()},[]);let g=e=>t(e),f=()=>t(null);return"addBook"===e?(0,s.jsx)(n,{onBack:f,onRefresh:h}):"addUser"===e?(0,s.jsx)(o,{onBack:f,onRefresh:x}):(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,s.jsx)(c,{title:"Ajouter un Livre",onClick:()=>g("addBook")}),(0,s.jsx)(c,{title:"Ajouter un Utilisateur",onClick:()=>g("addUser")})]}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Gestion des Livres"}),(0,s.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,s.jsxs)("table",{className:"min-w-full border text-sm sm:text-base",children:[(0,s.jsx)("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border px-4 py-2",children:"Titre"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"Auteur"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"Quantit\xe9"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:r.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border px-4 py-2",children:e.title}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.author}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.quantity}),(0,s.jsxs)("td",{className:"border px-4 py-2",children:[(0,s.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:()=>{},children:"Modifier"}),(0,s.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition ml-2",onClick:()=>b(e.id),children:"Supprimer"})]})]},e.id))})]})}),(0,s.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Gestion des Utilisateurs"}),(0,s.jsx)("div",{className:"overflow-x-auto",children:(0,s.jsxs)("table",{className:"min-w-full border text-sm sm:text-base",children:[(0,s.jsx)("thead",{className:"bg-gray-100",children:(0,s.jsxs)("tr",{children:[(0,s.jsx)("th",{className:"border px-4 py-2",children:"Nom"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"Email"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"R\xf4le"}),(0,s.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]})}),(0,s.jsx)("tbody",{children:u.map(e=>(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{className:"border px-4 py-2",children:e.name}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.email}),(0,s.jsx)("td",{className:"border px-4 py-2",children:e.role}),(0,s.jsxs)("td",{className:"border px-4 py-2",children:[(0,s.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:()=>{},children:"Modifier"}),(0,s.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition ml-2",onClick:()=>p(e.id),children:"Supprimer"})]})]},e.id))})]})})]})}},4436:(e,t,r)=>{r.d(t,{k5:()=>d});var s=r(2115),l={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},a=s.createContext&&s.createContext(l),n=["attr","size","title"];function o(){return(o=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e}).apply(this,arguments)}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);t&&(s=s.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,s)}return r}function c(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach(function(t){var s,l,a;s=e,l=t,a=r[t],(l=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var s=r.call(e,t||"default");if("object"!=typeof s)return s;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(l))in s?Object.defineProperty(s,l,{value:a,enumerable:!0,configurable:!0,writable:!0}):s[l]=a}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function d(e){return t=>s.createElement(u,o({attr:c({},e.attr)},t),function e(t){return t&&t.map((t,r)=>s.createElement(t.tag,c({key:r},t.attr),e(t.child)))}(e.child))}function u(e){var t=t=>{var r,{attr:l,size:a,title:i}=e,d=function(e,t){if(null==e)return{};var r,s,l=function(e,t){if(null==e)return{};var r={};for(var s in e)if(Object.prototype.hasOwnProperty.call(e,s)){if(t.indexOf(s)>=0)continue;r[s]=e[s]}return r}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(s=0;s<a.length;s++)r=a[s],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(l[r]=e[r])}return l}(e,n),u=a||t.size||"1em";return t.className&&(r=t.className),e.className&&(r=(r?r+" ":"")+e.className),s.createElement("svg",o({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,l,d,{className:r,style:c(c({color:e.color||t.color},t.style),e.style),height:u,width:u,xmlns:"http://www.w3.org/2000/svg"}),i&&s.createElement("title",null,i),e.children)};return void 0!==a?s.createElement(a.Consumer,null,e=>t(e)):t(l)}},6454:(e,t,r)=>{r.d(t,{A:()=>a});var s=r(5155),l=r(2115);function a(e){let{onSearch:t}=e,[r,a]=(0,l.useState)(""),[n,o]=(0,l.useState)("title");return(0,s.jsxs)("div",{className:"search-bar flex flex-col sm:flex-row items-stretch sm:items-center gap-4 mb-6 w-full",children:[(0,s.jsx)("input",{type:"text",className:"p-2 border border-gray-800 rounded w-full sm:w-auto flex-1",placeholder:"Mot-cl\xe9",value:r,onChange:e=>a(e.target.value)}),(0,s.jsxs)("select",{value:n,onChange:e=>o(e.target.value),className:"p-2 border border-gray-800 rounded w-full sm:w-auto",children:[(0,s.jsx)("option",{value:"title",children:"Titre"}),(0,s.jsx)("option",{value:"author",children:"Auteur"}),(0,s.jsx)("option",{value:"genre",children:"Genre"})]}),(0,s.jsx)("button",{onClick:()=>{t(r,n)},className:"bg-reservationButtonBg text-white py-2 px-4 rounded transform transition duration-300 ease-in-out hover:scale-105 hover:bg-survolButtonBg w-full sm:w-auto",children:"Rechercher"})]})}},6476:(e,t,r)=>{r.r(t),r.d(t,{default:()=>v});var s=r(5155),l=r(2115),a=r(351);function n(e){let{changePage:t,currentPage:r,onLogout:n}=e,[o,i]=(0,l.useState)(null),[c,d]=(0,l.useState)(!1);(0,l.useEffect)(()=>{i(localStorage.getItem("userRole"))},[]);let u=e=>{t(e),d(!1)},m=function(e,t){let l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"blue";return(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:()=>u(t),className:"text-white px-4 py-2 rounded transition-transform duration-300 ease-in-out ".concat(r===t?"scale-110 bg-".concat(l,"-500 bg-opacity-20"):"hover:scale-105 hover:bg-".concat(l,"-500 hover:bg-opacity-20")),children:e})})};return(0,s.jsxs)("div",{className:"relative",children:[(0,s.jsx)("div",{className:"md:hidden flex items-center",children:(0,s.jsx)("button",{className:"text-white text-2xl focus:outline-none",onClick:()=>{d(!c)},children:c?(0,s.jsx)(a.yGN,{}):(0,s.jsx)(a.ND1,{})})}),(0,s.jsxs)("ul",{className:"flex-col md:flex-row md:flex gap-4 absolute md:static top-12 right-0 bg-headerBg md:bg-transparent p-4 md:p-0 rounded-md shadow-lg md:shadow-none z-50 transition-all duration-300 ".concat(c?"flex":"hidden"),children:[m("Accueil","accueil"),m("Catalogue","catalogue"),m("R\xe9servation","reservation"),m("Contact","contact"),"ADMIN"===o&&m("Admin Dashboard","AdminDashboard","yellow"),(0,s.jsx)("li",{children:(0,s.jsx)("button",{onClick:n,className:"text-white px-4 py-2 rounded hover:scale-105 hover:bg-blue-500 hover:bg-opacity-20",children:"D\xe9connexion"})})]})]})}function o(e){let{changePage:t,currentPage:r,onLogout:l,role:a}=e;return(0,s.jsxs)("header",{className:"flex items-center justify-between px-4 py-4 md:px-8 bg-headerBg relative",children:[(0,s.jsx)("h1",{className:"text-white text-2xl font-bold cursor-pointer",onClick:()=>t("accueil"),children:"BibliOnLine"}),(0,s.jsx)(n,{changePage:t,currentPage:r,onLogout:l,role:a})]})}var i=r(697),c=r(1469),d=r.n(c);function u(){return(0,s.jsx)("div",{className:"flex justify-center items-center bg-cover bg-center min-h-screen",style:{backgroundImage:"url('/images/phot_bib.jpg')"},children:(0,s.jsx)("div",{className:"p-12 bg-white min-h-screen border border-gray-300 shadow-lg rounded-lg",children:(0,s.jsx)(i.default,{})})})}var m=r(6831);function h(){return(0,s.jsx)("div",{className:"flex justify-center items-center min-h-screen bg-cover bg-center",style:{backgroundImage:"url('/images/phot_bib.jpg')"},children:(0,s.jsx)(m.default,{})})}var x=r(8853);function b(){return(0,s.jsx)("div",{className:"flex justify-center items-center bg-cover bg-center min-h-screen",style:{backgroundImage:"url('/images/phot_bib.jpg')"},children:(0,s.jsx)("div",{className:"p-12 bg-white min-h-screen border border-gray-300 shadow-lg rounded-lg",children:(0,s.jsx)(x.default,{})})})}function p(){return(0,s.jsx)("div",{className:"relative w-full h-full",children:(0,s.jsx)(d(),{src:"/images/phot_bib.jpg",alt:"Image de biblioth\xe8que",className:"object-cover",fill:!0,priority:!0})})}function g(){let[e,t]=(0,l.useState)("");return(0,s.jsxs)("div",{className:"w-full h-full p-4 sm:p-6 md:p-8 bg-gray-100 flex flex-col",children:[(0,s.jsx)("h2",{className:"text-2xl sm:text-3xl font-semibold mb-4",children:"D\xe9couvrez nos Livres"}),(0,s.jsxs)("form",{onSubmit:t=>{t.preventDefault(),console.log("Recherche :",e)},className:"mb-6 flex flex-col sm:flex-row items-center gap-2",children:[(0,s.jsx)("input",{type:"text",placeholder:"Rechercher un livre...",value:e,onChange:e=>t(e.target.value),className:"w-full sm:flex-1 p-2 border rounded-md"}),(0,s.jsx)("button",{type:"submit",className:"bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 w-full sm:w-auto",children:"Rechercher"})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold mb-4",children:"Livres Recommand\xe9s"}),(0,s.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4",children:[{title:"1984",author:"George Orwell",cover:"/images/orwell.jpg"},{title:"To Kill a Mockingbird",author:"Harper Lee",cover:"/images/lee.jpg"},{title:"The Great Gatsby",author:"F. Scott Fitzgerald",cover:"/images/great.jpg"}].map((e,t)=>(0,s.jsxs)("div",{className:"bg-white p-4 rounded-md shadow-md",children:[(0,s.jsx)("img",{src:e.cover,alt:e.title,className:"w-full h-48 object-cover rounded-md mb-2"}),(0,s.jsx)("h4",{className:"text-lg font-semibold",children:e.title}),(0,s.jsx)("p",{className:"text-gray-600",children:e.author})]},t))})]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h3",{className:"text-xl sm:text-2xl font-semibold mb-4",children:"Cat\xe9gories"}),(0,s.jsx)("div",{className:"flex flex-wrap gap-2",children:["Romans","Science-Fiction","Histoire","Biographies"].map((e,t)=>(0,s.jsx)("span",{className:"bg-blue-200 text-blue-800 py-1 px-3 rounded-full cursor-pointer text-sm sm:text-base",children:e},t))})]}),(0,s.jsx)("div",{className:"text-center",children:(0,s.jsx)("button",{className:"bg-teal-600 text-white py-2 px-6 rounded-md hover:bg-teal-700",children:"Explorer la Biblioth\xe8que"})})]})}function f(){return(0,s.jsxs)("div",{className:"w-full h-full flex flex-col md:flex-row",children:[(0,s.jsx)("div",{className:"w-full md:w-1/2 h-64 md:h-screen",children:(0,s.jsx)(p,{})}),(0,s.jsx)("div",{className:"w-full md:w-1/2 h-full",children:(0,s.jsx)(g,{})})]})}var j=r(4379);function v(){let[e,t]=(0,l.useState)("accueil"),[r,a]=(0,l.useState)(null);return(0,l.useEffect)(()=>{a(localStorage.getItem("userRole"))},[]),(0,s.jsxs)("div",{children:[(0,s.jsx)(o,{changePage:e=>{t(e)},currentPage:e,onLogout:()=>{localStorage.setItem("isLoggedIn","false"),localStorage.removeItem("userRole"),window.location.reload()},role:r}),(0,s.jsx)("main",{className:"min-h-screen pt-0",children:(()=>{switch(e){case"accueil":default:return(0,s.jsx)(f,{});case"AdminDashboard":return(0,s.jsx)(j.default,{});case"catalogue":return(0,s.jsx)(u,{});case"reservation":return(0,s.jsx)(b,{});case"contact":return(0,s.jsx)(h,{})}})()})]})}},6831:(e,t,r)=>{r.d(t,{default:()=>a});var s=r(5155),l=r(2115);function a(){let[e,t]=(0,l.useState)({name:"",email:"",subject:"",message:""}),r=r=>{let{name:s,value:l}=r.target;t({...e,[s]:l})};return(0,s.jsx)("div",{className:"min-h-screen flex items-center justify-center p-4",children:(0,s.jsxs)("div",{className:"flex flex-col md:flex-row w-full max-w-6xl rounded-lg overflow-hidden shadow-lg",children:[(0,s.jsx)("div",{className:"w-full md:w-1/2 bg-gradient-to-r from-blue-900 via-blue-800 to-blue-700 flex items-center justify-center p-8",children:(0,s.jsx)("h2",{className:"text-3xl md:text-4xl font-bold text-white text-center",children:"Contactez-nous"})}),(0,s.jsx)("div",{className:"w-full md:w-1/2 bg-white p-6 sm:p-8",children:(0,s.jsxs)("form",{onSubmit:t=>{t.preventDefault(),console.log("Formulaire soumis:",e)},children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Nom"}),(0,s.jsx)("input",{type:"text",id:"name",name:"name",value:e.name,onChange:r,className:"shadow border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"email",children:"Email"}),(0,s.jsx)("input",{type:"email",id:"email",name:"email",value:e.email,onChange:r,className:"shadow border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"subject",children:"Sujet"}),(0,s.jsx)("input",{type:"text",id:"subject",name:"subject",value:e.subject,onChange:r,className:"shadow border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"message",children:"Message"}),(0,s.jsx)("textarea",{id:"message",name:"message",value:e.message,onChange:r,className:"shadow border rounded w-full py-2 px-3 text-gray-700 focus:outline-none focus:shadow-outline h-24 resize-none",required:!0})]}),(0,s.jsx)("div",{className:"flex items-center justify-center",children:(0,s.jsx)("button",{type:"submit",className:"bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded focus:outline-none focus:shadow-outline",children:"Envoyer"})})]})})]})})}},8853:(e,t,r)=>{r.d(t,{default:()=>i});var s=r(5155),l=r(2115);function a(e){let{reservationId:t}=e,[r,a]=(0,l.useState)(!1),[n,o]=(0,l.useState)(!1),i=async()=>{a(!0);try{(await fetch("http://localhost:5000/api/reservations/id/".concat(t),{method:"DELETE"})).ok?(o(!0),alert("L'annulation a r\xe9ussi.")):alert("L'annulation a \xe9chou\xe9.")}catch(e){alert("Erreur de connexion, veuillez r\xe9essayer.")}finally{a(!1)}};return(0,s.jsx)("button",{onClick:i,disabled:r||n,className:"w-full sm:w-1/2 mt-2 py-2 px-4 rounded text-white ".concat(r?"bg-gray-500":"bg-red-500"," hover:scale-105 hover:bg-red-600 transition"),children:r?"Chargement...":n?"Annul\xe9":"Annuler"})}function n(e){let{reservations:t}=e;return t&&0!==t.length?(0,s.jsx)("div",{className:"grid gap-4 sm:grid-cols-1 md:grid-cols-2 lg:grid-cols-3",children:t.map(e=>(0,s.jsxs)("div",{className:"border p-4 rounded shadow-md bg-white",children:[(0,s.jsx)("h2",{className:"text-xl font-bold mb-2",children:e.book.title}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Auteur:"})," ",e.book.author]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Description:"})," ",e.book.description||"Pas de description disponible"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("strong",{children:"Genre:"})," ",e.book.genre||"Genre non sp\xe9cifi\xe9"]}),(0,s.jsx)("div",{className:"mt-4",children:(0,s.jsx)(a,{reservationId:e.id,userId:e.userId})})]},e.id))}):(0,s.jsx)("p",{children:"Aucune r\xe9servation trouv\xe9e."})}var o=r(6454);function i(){let[e,t]=(0,l.useState)([]),[r,a]=(0,l.useState)([]),[i,c]=(0,l.useState)(!0),d=async()=>{try{let e=localStorage.getItem("userId");if(!e)return void console.error("Aucun utilisateur connect\xe9 !");let r=await fetch("http://localhost:5000/api/reservations/id/".concat(e)),s=await r.json();s.error?(a([]),t([])):(a(s),t(s))}catch(e){console.error("Erreur lors de la r\xe9cup\xe9ration des r\xe9servations:",e)}finally{c(!1)}};return((0,l.useEffect)(()=>{d()},[]),i)?(0,s.jsx)("div",{className:"p-4",children:"Chargement..."}):(0,s.jsxs)("div",{className:"p-4",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[(0,s.jsx)("h1",{className:"text-2xl md:text-3xl font-bold",children:"R\xe9servations"}),(0,s.jsx)(o.A,{onSearch:(e,s)=>{t(r.filter(t=>t.bookId[s].toLowerCase().includes(e.toLowerCase())))}})]}),0===e.length?(0,s.jsx)("p",{children:"Aucune r\xe9servation trouv\xe9e."}):(0,s.jsx)(n,{reservations:e})]})}}}]);