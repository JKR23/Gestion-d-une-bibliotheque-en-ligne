"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379],{4379:(e,s,r)=>{r.d(s,{default:()=>i});var t=r(5155),l=r(2115),a=r(3464);let o=e=>{let{onBack:s,onRefresh:r}=e,[o,d]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[u,c]=(0,l.useState)(""),[x,m]=(0,l.useState)(""),[b,h]=(0,l.useState)(""),[g,p]=(0,l.useState)(!0),j=async e=>{e.preventDefault();try{await a.A.post("/api/books",{title:o,author:n,description:u,stock:parseInt(x),genre:b,isAvailable:g}),r(),s()}catch(e){console.error("Erreur lors de l’ajout du livre:",e)}};return(0,t.jsxs)("div",{className:"p-6 w-full max-w-4xl mx-auto bg-white rounded-xl shadow-md border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Ajouter un Livre"}),(0,t.jsxs)("form",{onSubmit:j,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Titre du livre"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Auteur"}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,t.jsx)("textarea",{value:u,onChange:e=>c(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",rows:3})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Stock"}),(0,t.jsx)("input",{type:"number",value:x,onChange:e=>m(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Genre"}),(0,t.jsx)("input",{type:"text",value:b,onChange:e=>h(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Disponible ?"}),(0,t.jsxs)("select",{value:g.toString(),onChange:e=>p("true"===e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"true",children:"Oui"}),(0,t.jsx)("option",{value:"false",children:"Non"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,t.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-700 transition",children:"Ajouter"}),(0,t.jsx)("button",{type:"button",className:"border border-gray-300 px-6 py-2 rounded-lg bg-red-500 text-white hover:bg-red-700 transition",onClick:s,children:"Retour"})]})]})]})},d=e=>{let{onBack:s,onRefresh:r}=e,[o,d]=(0,l.useState)(""),[n,i]=(0,l.useState)(""),[u,c]=(0,l.useState)(""),[x,m]=(0,l.useState)(""),[b,h]=(0,l.useState)("USER"),[g,p]=(0,l.useState)(""),[j,f]=(0,l.useState)(""),[y,N]=(0,l.useState)(""),[v,w]=(0,l.useState)(""),k=async e=>{e.preventDefault();try{await a.A.post("/api/users/register",{firstName:o,lastName:n,password:u,email:x,role:b,address:{street:g,city:j,state:y,postalCode:v}}),r(),s()}catch(e){console.error("Erreur lors de l’ajout de l’utilisateur:",e)}};return(0,t.jsxs)("div",{className:"p-6 w-full max-w-4xl mx-auto bg-white rounded-xl shadow-md border border-gray-200",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center text-gray-800",children:"Ajouter un Utilisateur"}),(0,t.jsxs)("form",{onSubmit:k,className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pr\xe9nom"}),(0,t.jsx)("input",{type:"text",value:o,onChange:e=>d(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Nom"}),(0,t.jsx)("input",{type:"text",value:n,onChange:e=>i(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Mot de passe"}),(0,t.jsx)("input",{type:"password",value:u,onChange:e=>c(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,t.jsx)("input",{type:"email",value:x,onChange:e=>m(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",required:!0})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"R\xf4le"}),(0,t.jsxs)("select",{value:b,onChange:e=>h(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,t.jsx)("option",{value:"USER",children:"Utilisateur"}),(0,t.jsx)("option",{value:"ADMIN",children:"Administrateur"})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2 mt-6",children:"Adresse"}),(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Rue"}),(0,t.jsx)("input",{type:"text",value:g,onChange:e=>p(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Ville"}),(0,t.jsx)("input",{type:"text",value:j,onChange:e=>f(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"R\xe9gion"}),(0,t.jsx)("input",{type:"text",value:y,onChange:e=>N(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Code Postal"}),(0,t.jsx)("input",{type:"text",value:v,onChange:e=>w(e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg shadow-sm focus:ring-2 focus:ring-blue-500 focus:outline-none"})]})]})]}),(0,t.jsxs)("div",{className:"flex justify-between pt-6",children:[(0,t.jsx)("button",{type:"submit",className:"bg-blue-600 text-white px-6 py-2 rounded-lg shadow hover:bg-blue-700 transition",children:"Ajouter"}),(0,t.jsx)("button",{type:"button",className:"border border-gray-300 px-6 py-2 rounded-lg bg-red-500 text-white hover:bg-red-700 transition",onClick:s,children:"Retour"})]})]})]})},n=e=>{let{title:s,onClick:r}=e;return(0,t.jsxs)("div",{onClick:r,className:"cursor-pointer bg-teal-600 text-white border rounded-2xl p-6 hover:shadow-xl transition-shadow duration-300",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:s}),(0,t.jsx)("p",{className:"text-sm sm:text-base",children:"Cliquer ici pour acc\xe9der."})]})},i=()=>{let[e,s]=(0,l.useState)(null),[r,i]=(0,l.useState)([]),[u,c]=(0,l.useState)([]),x=async()=>{try{let e=await a.A.get("/api/books");i(e.data)}catch(e){console.error("Erreur de chargement des livres:",e)}},m=async()=>{try{let e=await a.A.get("/api/users");c(e.data)}catch(e){console.error("Erreur de chargement des utilisateurs:",e)}},b=async e=>{try{await a.A.delete("/api/books/id/".concat(e)),x()}catch(e){console.error("Erreur lors de la suppression du livre:",e)}},h=async e=>{try{await a.A.delete("/api/users/id/".concat(e)),m()}catch(e){console.error("Erreur lors de la suppression de l’utilisateur:",e)}};(0,l.useEffect)(()=>{x(),m()},[]);let g=e=>s(e),p=()=>s(null);return"addBook"===e?(0,t.jsx)(o,{onBack:p,onRefresh:x}):"addUser"===e?(0,t.jsx)(d,{onBack:p,onRefresh:m}):(0,t.jsxs)("div",{className:"p-4 max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,t.jsx)(n,{title:"Ajouter un Livre",onClick:()=>g("addBook")}),(0,t.jsx)(n,{title:"Ajouter un Utilisateur",onClick:()=>g("addUser")})]}),(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-2 text-gray-800",children:"Gestion des Livres"}),(0,t.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,t.jsxs)("table",{className:"min-w-full table-auto border text-sm sm:text-base",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border px-4 py-2",children:"Titre"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Auteur"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Quantit\xe9"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border px-4 py-2",children:e.title}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.author}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.stock}),(0,t.jsxs)("td",{className:"border px-4 py-2 space-x-2 flex flex-wrap",children:[(0,t.jsx)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:()=>{},children:"Modifier"}),(0,t.jsx)("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition",onClick:()=>b(e.id),children:"Supprimer"})]})]},e.id))})]})}),(0,t.jsx)("h2",{className:"text-xl sm:text-2xl font-semibold mb-2 text-gray-800",children:"Gestion des Utilisateurs"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full table-auto border text-sm sm:text-base",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border px-4 py-2",children:"Nom"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Email"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"R\xf4le"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:u.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsxs)("td",{className:"border px-4 py-2",children:[e.firstName," ",e.lastName]}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.email}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.role}),(0,t.jsxs)("td",{className:"border px-4 py-2 space-x-2 flex flex-wrap",children:[(0,t.jsx)("button",{className:"px-3 py-1 bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:()=>{},children:"Modifier"}),(0,t.jsx)("button",{className:"px-3 py-1 bg-red-600 text-white rounded hover:bg-red-700 transition",onClick:()=>h(e.id),children:"Supprimer"})]})]},e.id))})]})})]})}}}]);