(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[374],{3595:(e,s,r)=>{Promise.resolve().then(r.bind(r,4379))},4379:(e,s,r)=>{"use strict";r.d(s,{default:()=>c});var t=r(5155),a=r(2115),l=r(3464);let o=e=>{let{onBack:s,onRefresh:r}=e,[o,d]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),x=async e=>{e.preventDefault();try{await l.A.post("".concat("http://localhost:5000","/books"),{title:o,author:n,quantity:c}),r(),s()}catch(e){console.error("Erreur lors de l’ajout du livre:",e)}};return(0,t.jsxs)("div",{className:"p-4 w-full max-w-xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Ajouter un Livre"}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Titre du livre",value:o,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{type:"text",placeholder:"Auteur",value:n,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{type:"number",placeholder:"Quantit\xe9",value:c,onChange:e=>u(e.target.value),className:"w-full p-2 border rounded"}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Ajouter"}),(0,t.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:s,children:"Retour"})]})]})]})},d=e=>{let{onBack:s,onRefresh:r}=e,[o,d]=(0,a.useState)(""),[n,i]=(0,a.useState)(""),[c,u]=(0,a.useState)("etudiant"),x=async e=>{e.preventDefault();try{await l.A.post("".concat("http://localhost:5000","/users"),{name:o,email:n,role:c}),r(),s()}catch(e){console.error("Erreur lors de l’ajout de l’utilisateur:",e)}};return(0,t.jsxs)("div",{className:"p-4 w-full max-w-xl mx-auto",children:[(0,t.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Ajouter un Utilisateur"}),(0,t.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,t.jsx)("input",{type:"text",placeholder:"Nom",value:o,onChange:e=>d(e.target.value),className:"w-full p-2 border rounded"}),(0,t.jsx)("input",{type:"email",placeholder:"Email",value:n,onChange:e=>i(e.target.value),className:"w-full p-2 border rounded"}),(0,t.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"w-full p-2 border rounded",children:[(0,t.jsx)("option",{value:"etudiant",children:"\xc9tudiant"}),(0,t.jsx)("option",{value:"admin",children:"Administrateur"})]}),(0,t.jsxs)("div",{className:"flex justify-between",children:[(0,t.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition",children:"Ajouter"}),(0,t.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:s,children:"Retour"})]})]})]})},n="http://localhost:5000",i=e=>{let{title:s,onClick:r}=e;return(0,t.jsxs)("div",{onClick:r,className:"cursor-pointer bg-white border rounded-2xl p-6 hover:shadow-xl transition-shadow duration-300",children:[(0,t.jsx)("h3",{className:"text-lg sm:text-xl font-semibold mb-2",children:s}),(0,t.jsx)("p",{className:"text-sm sm:text-base",children:"Cliquer ici pour acc\xe9der."})]})},c=()=>{let[e,s]=(0,a.useState)(null),[r,c]=(0,a.useState)([]),[u,x]=(0,a.useState)([]),h=async()=>{try{let e=await l.A.get("".concat(n,"/books"));c(e.data)}catch(e){console.error("Erreur de chargement des livres:",e)}},p=async()=>{try{let e=await l.A.get("".concat(n,"/users"));x(e.data)}catch(e){console.error("Erreur de chargement des utilisateurs:",e)}},m=async e=>{try{await l.A.delete("".concat(n,"/books/").concat(e)),h()}catch(e){console.error("Erreur lors de la suppression du livre:",e)}},b=async e=>{try{await l.A.delete("".concat(n,"/users/").concat(e)),p()}catch(e){console.error("Erreur lors de la suppression de l’utilisateur:",e)}};(0,a.useEffect)(()=>{h(),p()},[]);let j=e=>s(e),y=()=>s(null);return"addBook"===e?(0,t.jsx)(o,{onBack:y,onRefresh:h}):"addUser"===e?(0,t.jsx)(d,{onBack:y,onRefresh:p}):(0,t.jsxs)("div",{className:"p-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:[(0,t.jsx)(i,{title:"Ajouter un Livre",onClick:()=>j("addBook")}),(0,t.jsx)(i,{title:"Ajouter un Utilisateur",onClick:()=>j("addUser")})]}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Gestion des Livres"}),(0,t.jsx)("div",{className:"overflow-x-auto mb-8",children:(0,t.jsxs)("table",{className:"min-w-full border text-sm sm:text-base",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border px-4 py-2",children:"Titre"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Auteur"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Quantit\xe9"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:r.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border px-4 py-2",children:e.title}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.author}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.quantity}),(0,t.jsxs)("td",{className:"border px-4 py-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:()=>{},children:"Modifier"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition ml-2",onClick:()=>m(e.id),children:"Supprimer"})]})]},e.id))})]})}),(0,t.jsx)("h2",{className:"text-xl font-semibold mb-2",children:"Gestion des Utilisateurs"}),(0,t.jsx)("div",{className:"overflow-x-auto",children:(0,t.jsxs)("table",{className:"min-w-full border text-sm sm:text-base",children:[(0,t.jsx)("thead",{className:"bg-gray-100",children:(0,t.jsxs)("tr",{children:[(0,t.jsx)("th",{className:"border px-4 py-2",children:"Nom"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Email"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"R\xf4le"}),(0,t.jsx)("th",{className:"border px-4 py-2",children:"Actions"})]})}),(0,t.jsx)("tbody",{children:u.map(e=>(0,t.jsxs)("tr",{children:[(0,t.jsx)("td",{className:"border px-4 py-2",children:e.name}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.email}),(0,t.jsx)("td",{className:"border px-4 py-2",children:e.role}),(0,t.jsxs)("td",{className:"border px-4 py-2",children:[(0,t.jsx)("button",{className:"px-4 py-2 border rounded hover:bg-gray-100 transition",onClick:()=>{},children:"Modifier"}),(0,t.jsx)("button",{className:"px-4 py-2 bg-red-600 text-white rounded hover:bg-red-700 transition ml-2",onClick:()=>b(e.id),children:"Supprimer"})]})]},e.id))})]})})]})}}},e=>{var s=s=>e(e.s=s);e.O(0,[464,441,684,358],()=>s(3595)),_N_E=e.O()}]);