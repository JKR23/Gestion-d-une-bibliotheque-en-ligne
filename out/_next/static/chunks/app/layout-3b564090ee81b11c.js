(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[177],{4261:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>p});var l=t(5155),a=t(2115);function r(){return(0,l.jsxs)("div",{className:"text-center md:text-left",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\xc0 propos"}),(0,l.jsx)("p",{className:"text-gray-400",children:"BibliOnLine est le site incontournable pour les passionn\xe9s de lecture."})]})}function n(){return(0,l.jsxs)("div",{className:"text-center md:text-left",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Liens rapides"}),(0,l.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Accueil"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Catalogue"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"Contact"})}),(0,l.jsx)("li",{children:(0,l.jsx)("a",{href:"#",className:"hover:text-white transition-colors",children:"D\xe9connexion"})})]})]})}function i(){return(0,l.jsxs)("div",{className:"text-center md:text-left",children:[(0,l.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contactez-nous"}),(0,l.jsxs)("ul",{className:"space-y-2 text-gray-400",children:[(0,l.jsx)("li",{children:"Email: biblionline@gmail.com"}),(0,l.jsx)("li",{children:"T\xe9l: +1 - 613 - 957 - 7526"}),(0,l.jsx)("li",{children:"Adresse: 745 rue de laurier, Ottawa"})]})]})}function o(){return(0,l.jsx)("footer",{className:"bg-footerBg text-footerText",children:(0,l.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-12",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-8",children:[(0,l.jsx)(n,{}),(0,l.jsx)(r,{}),(0,l.jsx)(i,{})]}),(0,l.jsx)("div",{className:"mt-10 border-t border-gray-700 pt-6 text-center text-sm text-gray-400",children:"\xa9 2025 BibliOnLine. Tous droits r\xe9serv\xe9s."})]})})}function c(){return(0,l.jsx)("header",{className:"bg-gradient-to-r from-blue-500 to-teal-400 p-8 shadow-md border-b-2 border-teal-600",children:(0,l.jsxs)("div",{className:"container mx-auto flex justify-between items-center",children:[(0,l.jsx)("div",{className:"text-white text-2xl font-bold",children:"BibliOnLine"}),(0,l.jsxs)("div",{className:"flex space-x-4",children:[(0,l.jsx)("span",{className:"text-white text-lg",children:"Welcome"}),(0,l.jsx)("span",{className:"text-white text-lg",children:"|"}),(0,l.jsx)("span",{className:"text-white text-lg",children:"Irasshaimase"})]})]})})}var d=t(8999);function u(e){let{isOpen:s,closeModal:t}=e,r=(0,d.useRouter)(),[n,i]=(0,a.useState)({email:"",password:""}),[o,c]=(0,a.useState)(null),u=e=>{let{name:s,value:t}=e.target;i(e=>({...e,[s]:t}))},x=async e=>{e.preventDefault();try{let e=await fetch("http://localhost:5000/api/users/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)}),s=await e.json();e.ok?(localStorage.setItem("isLoggedIn","true"),localStorage.setItem("userId",s.userId),localStorage.setItem("userRole",s.role),t(),r.push("/accueil")):c(s.error)}catch(e){c("Erreur r\xe9seau.")}};return s?(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white w-full max-w-2xl rounded-lg shadow-lg flex flex-col md:flex-row overflow-hidden",children:[(0,l.jsx)("div",{className:"bg-gradient-to-br from-blue-900 to-blue-700 text-white flex items-center justify-center py-8 px-4 md:w-1/2 w-full",children:(0,l.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Connexion"})}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 p-6 sm:p-8",children:[(0,l.jsxs)("form",{onSubmit:x,className:"space-y-4",children:[(0,l.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:n.email,onChange:u,required:!0,className:"input"}),(0,l.jsx)("input",{type:"password",name:"password",placeholder:"Mot de passe",value:n.password,onChange:u,required:!0,className:"input"}),o&&(0,l.jsx)("p",{className:"text-red-500 text-sm",children:o}),(0,l.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700",children:"Se connecter"})]}),(0,l.jsx)("button",{onClick:t,className:"w-full mt-4 bg-red-600 text-white py-3 rounded-md hover:bg-red-700",children:"Fermer"})]})]})}):null}function x(e){let{isOpen:s,closeModal:t}=e;if(!s)return null;let[r,n]=(0,a.useState)({firstName:"",lastName:"",email:"",password:"",address:{street:"",city:"",state:"",postalCode:""}}),i=e=>{let{name:s,value:t}=e.target;s in r.address?n(e=>({...e,address:{...e.address,[s]:t}})):n(e=>({...e,[s]:t}))},o=async e=>{e.preventDefault();let s={...r,role:"USER"};try{let e=await fetch("http://localhost:5000/api/users/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(s)});if(e.ok)console.log("Utilisateur enregistr\xe9 !"),t();else{let s=await e.json();console.error("Erreur :",s.message)}}catch(e){console.error("Erreur API :",e)}};return(0,l.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50 p-4",children:(0,l.jsxs)("div",{className:"bg-white w-full max-w-4xl rounded-lg shadow-lg flex flex-col md:flex-row overflow-hidden",children:[(0,l.jsx)("div",{className:"bg-gradient-to-br from-blue-900 to-blue-700 text-white flex items-center justify-center py-8 px-4 md:w-1/2 w-full",children:(0,l.jsx)("h2",{className:"text-2xl font-bold text-center",children:"Inscription"})}),(0,l.jsxs)("div",{className:"w-full md:w-1/2 p-6 sm:p-8",children:[(0,l.jsxs)("form",{onSubmit:o,className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsx)("input",{type:"text",name:"firstName",placeholder:"Pr\xe9nom",value:r.firstName,onChange:i,required:!0,className:"input"}),(0,l.jsx)("input",{type:"text",name:"lastName",placeholder:"Nom",value:r.lastName,onChange:i,required:!0,className:"input"}),(0,l.jsx)("input",{type:"email",name:"email",placeholder:"Email",value:r.email,onChange:i,required:!0,className:"input"}),(0,l.jsx)("input",{type:"password",name:"password",placeholder:"Mot de passe",value:r.password,onChange:i,required:!0,className:"input"}),(0,l.jsx)("input",{type:"text",name:"street",placeholder:"Rue",value:r.address.street,onChange:i,required:!0,className:"input"}),(0,l.jsx)("input",{type:"text",name:"city",placeholder:"Ville",value:r.address.city,onChange:i,required:!0,className:"input"}),(0,l.jsx)("input",{type:"text",name:"state",placeholder:"Province",value:r.address.state,onChange:i,required:!0,className:"input"}),(0,l.jsx)("input",{type:"text",name:"postalCode",placeholder:"Code postal",value:r.address.postalCode,onChange:i,required:!0,className:"input"}),(0,l.jsx)("button",{type:"submit",className:"col-span-1 sm:col-span-2 bg-blue-600 text-white py-3 rounded-md hover:bg-blue-700",children:"S'inscrire"})]}),(0,l.jsx)("button",{onClick:t,className:"w-full mt-4 bg-red-600 text-white py-3 rounded-md hover:bg-red-700",children:"Fermer"})]})]})})}function m(e){let{onLogin:s}=e,[t,r]=(0,a.useState)(!1),[n,i]=(0,a.useState)(!1);return(0,l.jsxs)("div",{children:[(0,l.jsx)(c,{}),(0,l.jsx)("div",{className:"flex flex-col items-center justify-center min-h-screen bg-gradient-to-r from-blue-900 via-blue-800 to-blue-700",children:(0,l.jsxs)("div",{className:"text-center bg-white p-8 rounded-lg shadow-xl max-w-lg w-full",children:[(0,l.jsx)("h1",{className:"text-3xl font-semibold text-gray-800 mb-4",children:"Bienvenue \xe0 la BibliOnLine !"}),(0,l.jsx)("p",{className:"text-lg text-gray-600 mb-6",children:"Explorez des milliers de livres, d\xe9couvrez de nouvelles histoires, et plongez dans l'univers de la lecture."}),(0,l.jsxs)("div",{className:"flex justify-center gap-6",children:[(0,l.jsx)("button",{className:"px-6 py-2 bg-blue-600 text-white rounded-full shadow-md hover:bg-blue-700 transition",onClick:()=>{console.log("Ouverture du modal d'inscription..."),i(!0)},children:"S'inscrire"}),(0,l.jsx)("button",{className:"px-6 py-2 bg-teal-600 text-white rounded-full shadow-md hover:bg-teal-700 transition",onClick:()=>{console.log("Ouverture du modal de connexion..."),r(!0)},children:"Se connecter"})]})]})}),(0,l.jsx)(u,{isOpen:t,closeModal:()=>{console.log("Fermeture du modal de connexion..."),r(!1)}}),(0,l.jsx)(x,{isOpen:n,closeModal:()=>{console.log("Fermeture du modal d'inscription..."),i(!1)}})]})}var h=t(6476);function p(e){let{children:s}=e,[t,r]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{console.log("V\xe9rification de l'\xe9tat de connexion dans le localStorage..."),"true"===localStorage.getItem("isLoggedIn")?(console.log("Utilisateur est connect\xe9, mise \xe0 jour de l'\xe9tat..."),r(!0)):console.log("Utilisateur n'est pas connect\xe9.")},[]),(0,a.useEffect)(()=>{console.log("\xc9tat de connexion mis \xe0 jour :",t)},[t]),(0,l.jsx)("html",{lang:"fr",children:(0,l.jsxs)("body",{className:"p-0 m-0 flex flex-col min-h-screen",children:[(0,l.jsx)("main",{className:"flex-grow",children:t?(0,l.jsx)(h.default,{}):(0,l.jsx)(m,{onLogin:()=>{console.log("Utilisateur s'est connect\xe9, mise \xe0 jour de l'\xe9tat..."),r(!0)}})}),(0,l.jsx)(o,{})]})})}t(9324)},9324:()=>{},9644:(e,s,t)=>{Promise.resolve().then(t.bind(t,4261))}},e=>{var s=s=>e(e.s=s);e.O(0,[533,844,464,63,485,441,684,358],()=>s(9644)),_N_E=e.O()}]);